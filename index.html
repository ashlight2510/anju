<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ÏßÄÍ∏à Ïù¥ Ïà†Ïóê üçª</title>

  <!-- SEO / OG -->
  <meta name="description" content="ÏßÄÍ∏à Ïù¥ Ïà†Ïóê Îî± ÎßûÎäî ÏïàÏ£º ÌïòÎÇò, Í≥†ÎØº ÏóÜÏù¥ Î∞îÎ°ú Ï∂îÏ≤ú" />
  <meta property="og:title" content="ÏßÄÍ∏à Ïù¥ Ïà†Ïóê üçª" />
  <meta property="og:description" content="Ïà† Ï¢ÖÎ•òÏôÄ Î∞∞Í≥†ÌîîÎßå Í≥†Î•¥Î©¥ ÎÅùÎÇòÎäî ÏïàÏ£º Ï∂îÏ≤ú ÏÑúÎπÑÏä§" />
  <meta property="og:image" content="https://dummyimage.com/1200x630/020617/ffffff&text=ANJU" />
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='64' height='64'%3E%3Ctext y='50%25' x='50%25' dy='.35em' font-size='52' text-anchor='middle'%3E%F0%9F%8D%BB%3C/text%3E%3C/svg%3E" />

  <style>
    body {
      margin: 0;
      font-family: system-ui, -apple-system, sans-serif;
      background: #0f172a;
      color: #fff;
    }

    header {
      padding: 28px 16px;
      text-align: center;
      background: #020617;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }

    header h1 {
      margin: 0;
      font-size: 30px;
    }

    header p {
      margin-top: 8px;
      font-size: 14px;
      color: #94a3b8;
    }

    main {
      max-width: 720px;
      margin: 16px auto;
      padding: 24px 16px 40px;
    }

    .card {
      background: #020617;
      border: 1px solid rgba(255,255,255,0.12);
      border-radius: 20px;
      padding: 20px;
    }

    .step-title {
      font-size: 20px;
      font-weight: 700;
    }

    .step-sub {
      font-size: 13px;
      color: #94a3b8;
      margin-top: 4px;
    }

    .choices {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      margin-top: 20px;
    }

    .choice {
      background: #0f172a;
      border: 1px solid rgba(255,255,255,0.1);
      border-radius: 16px;
      padding: 16px 10px;
      text-align: center;
      cursor: pointer;
      transition: 0.2s;
    }

    .choice:hover {
      background: #1e293b;
      transform: translateY(-2px);
    }

    .result {
      margin-top: 20px;
    }

    .badge {
      display: inline-block;
      background: #1e293b;
      padding: 4px 10px;
      border-radius: 999px;
      font-size: 12px;
      margin-right: 6px;
      margin-top: 6px;
    }

    .actions {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 18px;
    }

    .btn {
      flex: 1;
      min-width: 160px;
      padding: 12px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.1);
      background: #1e293b;
      color: #fff;
      cursor: pointer;
      font-size: 14px;
      transition: 0.2s;
    }

    .btn:hover {
      background: #2b384e;
    }

    footer {
      margin-top: 40px;
      text-align: center;
      font-size: 12px;
      color: #64748b;
    }

    .section {
      margin-top: 18px;
    }

    .section h3 {
      margin: 0 0 8px;
      font-size: 15px;
      color: #cbd5e1;
    }

    .list {
      margin: 0;
      padding-left: 18px;
      color: #e2e8f0;
      font-size: 14px;
    }

    .list li {
      margin-bottom: 6px;
    }

    .lang-switch {
      position: fixed;
      top: 16px;
      right: 16px;
      display: inline-flex;
      gap: 0;
      padding: 3px;
      border-radius: 999px;
      background: rgba(2, 6, 23, 0.95);
      backdrop-filter: blur(10px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
      z-index: 100;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    .lang-switch button {
      border: none;
      background: transparent;
      color: rgba(255, 255, 255, 0.6);
      font-size: 12px;
      font-weight: 700;
      padding: 7px 14px;
      border-radius: 999px;
      cursor: pointer;
      transition: all 0.2s ease;
      min-width: 44px;
      text-align: center;
      letter-spacing: 0.02em;
    }
    .lang-switch button.active {
      background: rgba(255, 255, 255, 0.2);
      color: #fff;
      box-shadow: 0 2px 8px rgba(255, 255, 255, 0.2);
    }
    .lang-switch button:not(.active):hover {
      background: rgba(255, 255, 255, 0.1);
      color: rgba(255, 255, 255, 0.9);
    }
  </style>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1204894220949193"
     crossorigin="anonymous"></script>
    <!-- responsive-base -->
    <style>
      /* responsive-base */
      *, *::before, *::after {
        box-sizing: border-box;
      }
      html {
        -webkit-text-size-adjust: 100%;
      }
      img,
      video,
      canvas,
      svg {
        max-width: 100%;
        height: auto;
      }
      table {
        width: 100%;
      }
      pre,
      code {
        white-space: pre-wrap;
        word-break: break-word;
      }
    </style>
  <style>
    .adsense-block {
      margin: 16px 0;
      display: flex;
      justify-content: center;
    }
    .adsbygoogle {
      display: block;
      margin: 16px auto;
        text-align: center;
}
  </style>
</head>

<body><div class="lang-switch" role="tablist" aria-label="Language switcher">
  <button type="button" data-lang="ko" class="active">KR</button>
  <button type="button" data-lang="en">EN</button>
</div>
<header>
  <h1 data-i18n="title">üçª ÏßÄÍ∏à Ïù¥ Ïà†Ïóê</h1>
  <p data-i18n="subtitle">ÏßÄÍ∏à Ïù¥ Ïà†Ïóê, Îî± ÎßûÎäî ÏïàÏ£º ÌïòÎÇò</p>
</header>

<main>
  <div class="card" id="stepCard"></div>
  <div class="card result" id="resultCard" style="display:none;"></div>

  <footer data-i18n="footer">
    ¬© ÏßëÏà† Î©îÏù¥Ìä∏ ¬∑ ÏïàÏ£º Ï∂îÏ≤ú ÏÑúÎπÑÏä§ ¬∑ <a href="https://funnyfunny.cloud" target="_blank" style="color:#94a3b8;text-decoration:none;">funnyfunny.cloud</a>
  </footer>
</main>

<script>
/* i18n */
const translations = {
  ko: {
    metaTitle: "ÏßÄÍ∏à Ïù¥ Ïà†Ïóê üçª",
    metaDescription: "ÏßÄÍ∏à Ïù¥ Ïà†Ïóê Îî± ÎßûÎäî ÏïàÏ£º ÌïòÎÇò, Í≥†ÎØº ÏóÜÏù¥ Î∞îÎ°ú Ï∂îÏ≤ú",
    title: "üçª ÏßÄÍ∏à Ïù¥ Ïà†Ïóê",
    subtitle: "ÏßÄÍ∏à Ïù¥ Ïà†Ïóê, Îî± ÎßûÎäî ÏïàÏ£º ÌïòÎÇò",
    footer: "¬© ÏßëÏà† Î©îÏù¥Ìä∏ ¬∑ ÏïàÏ£º Ï∂îÏ≤ú ÏÑúÎπÑÏä§ ¬∑ funnyfunny.cloud",
    ingredients: "Ïû¨Î£å",
    steps: "ÎßåÎìúÎäî Î≤ï",
    todayAnju: "Ïò§ÎäòÏùò ÏïàÏ£º üç∫",
    timeBadge: "Ïà† Ïïà ÏãùÍ∏∞ Ï†ÑÏóê {time}Î∂Ñ",
    difficultyBadge: "ÎÇúÏù¥ÎèÑ {difficulty}",
    rerollBtn: "Ïù¥ ÏïàÏ£º Î≥ÑÎ°úÎ©¥ Îã§Ïãú Ï∂îÏ≤ú",
    saveImageBtn: "Ïù¥ÎØ∏ÏßÄ Ï†ÄÏû•",
    moreTestsBtn: "Îã§Î•∏ ÌÖåÏä§Ìä∏ Ìï¥Î≥¥Í∏∞",
    // Steps
    step1Question: "Ïñ¥Îñ§ Ïà†Ïù¥Ïïº?",
    step1Sub: "Ïà†Ïóê Îî∞Îùº ÏïàÏ£ºÍ∞Ä ÏôÑÏ†ÑÌûà Îã¨ÎùºÏ†∏Ïöî.",
    step1Beer: "üç∫ Îß•Ï£º",
    step1Soju: "üç∂ ÏÜåÏ£º",
    step1Wine: "üç∑ ÏôÄÏù∏",
    step1Whiskey: "ü•É ÏúÑÏä§ÌÇ§",
    step2Question: "ÏôÄÏù∏ Ï¢ÖÎ•òÎäî?",
    step2Sub: "Î†àÎìúÏôÄ ÌôîÏù¥Ìä∏Îäî Ïñ¥Ïö∏Î¶¨Îäî ÏïàÏ£ºÍ∞Ä Îã¨ÎùºÏöî.",
    step2Red: "üç∑ Î†àÎìúÏôÄÏù∏",
    step2White: "ü•Ç ÌôîÏù¥Ìä∏ÏôÄÏù∏",
    // Difficulty
    difficultyEasy: "Ìïò",
    difficultyMedium: "Ï§ë",
    difficultyHard: "ÏÉÅ",
    // Save Image
    saveImageTitle: "ÏßÄÍ∏à Ïù¥ Ïà†Ïóê",
    saveImageIngredients: "Ïû¨Î£å",
    saveImageSteps: "ÎßåÎìúÎäî Î≤ï",
    saveImageFooter: "üçª ÏßÄÍ∏à Ïù¥ Ïà†Ïóê ¬∑ ÏïàÏ£º Ï∂îÏ≤ú ¬∑ funnyfunny.cloud",
    saveImageTime: "{time}Î∂Ñ",
    saveImageDifficulty: "ÎÇúÏù¥ÎèÑ {difficulty}",
    // Recipes (Îß•Ï£º)
    recipeChicken: "ÏπòÌÇ®",
    recipeChickenFit: "Îß•Ï£º ÏóÜÏúºÎ©¥ ÏÑ≠ÏÑ≠",
    recipeChickenDesc: "ÎßêÏù¥ ÌïÑÏöî ÏóÜÎäî Îß•Ï£º ÏïàÏ£ºÏùò ÏµúÏ¢Ö Î≥¥Ïä§",
    recipeChickenIng1: "Îã≠",
    recipeChickenIng2: "ÌäÄÍπÄÍ∞ÄÎ£®",
    recipeChickenIng3: "ÏãùÏö©Ïú†",
    recipeChickenIng4: "ÏÜåÍ∏à",
    recipeChickenStep1: "Îã≠Ïóê ÏÜåÍ∏àÏúºÎ°ú Î∞ëÍ∞ÑÌïúÎã§",
    recipeChickenStep2: "ÌäÄÍπÄÍ∞ÄÎ£®Î•º ÏûÖÌûåÎã§",
    recipeChickenStep3: "Í∏∞Î¶ÑÏóê ÎÖ∏Î¶áÌïòÍ≤å ÌäÄÍ∏¥Îã§",
    recipeFries: "Í∞êÏûêÌäÄÍπÄ",
    recipeFriesFit: "Îß•Ï£ºÍ∞Ä Ïà†Ïà†",
    recipeFriesDesc: "Ïß≠Ïß§Ìï® ÌïòÎÇòÎ°ú Îß•Ï£º ÏÜçÎèÑ Ïò¨Î¶¨Îäî ÏïàÏ£º",
    recipeFriesIng1: "Í∞êÏûê",
    recipeFriesIng2: "ÏãùÏö©Ïú†",
    recipeFriesIng3: "ÏÜåÍ∏à",
    recipeFriesStep1: "Í∞êÏûêÎ•º Í∏∏Í≤å Ïç¨Îã§",
    recipeFriesStep2: "Í∏∞Î¶ÑÏóê Î∞îÏÇ≠ÌïòÍ≤å ÌäÄÍ∏¥Îã§",
    recipeFriesStep3: "ÏÜåÍ∏àÏùÑ ÎøåÎ¶∞Îã§",
    recipeSausage: "ÏÜåÏãúÏßÄ Íµ¨Ïù¥",
    recipeSausageFit: "ÎèÖÏùº Í∞êÏÑ±",
    recipeSausageDesc: "Ïú°Ï¶ô Í∞ÄÎìùÌïú ÌÅ¥ÎûòÏãù Îß•Ï£º ÏïàÏ£º",
    recipeSausageIng1: "ÏÜåÏãúÏßÄ",
    recipeSausageIng2: "Î®∏Ïä§ÌÑ∞Îìú",
    recipeSausageStep1: "Ìå¨Ïóê ÏÜåÏãúÏßÄÎ•º ÍµΩÎäîÎã§",
    recipeSausageStep2: "ÎÖ∏Î¶áÌï¥ÏßÄÎ©¥ Ï†ëÏãúÏóê Îã¥ÎäîÎã§",
    recipePizza: "ÌîºÏûê",
    recipePizzaFit: "ÌÉÑÏÇ∞ÏúºÎ°ú ÎäêÎÅºÌï® Ïª∑",
    recipePizzaDesc: "Ïó¨ÎüøÏù¥ ÎßàÏã§ Îïå Ïã§Ìå® ÏóÜÎäî ÏÑ†ÌÉù",
    recipePizzaIng1: "ÌîºÏûê ÎèÑÏö∞",
    recipePizzaIng2: "ÌÜ†ÎßàÌÜ†ÏÜåÏä§",
    recipePizzaIng3: "ÏπòÏ¶à",
    recipePizzaIng4: "ÌÜ†Ìïë",
    recipePizzaStep1: "ÎèÑÏö∞Ïóê ÏÜåÏä§Î•º Î∞îÎ•∏Îã§",
    recipePizzaStep2: "ÏπòÏ¶àÏôÄ ÌÜ†ÌïëÏùÑ Ïò¨Î¶∞Îã§",
    recipePizzaStep3: "Ïò§Î∏êÏóê ÍµΩÎäîÎã§",
    recipeCheeseBall: "ÏπòÏ¶àÎ≥º",
    recipeCheeseBallFit: "Îã®Ïß† Ï°∞Ìï©",
    recipeCheeseBallDesc: "Ìïú ÏûÖÏî© ÏßëÏñ¥Î®πÍ∏∞ Ï¢ãÏùÄ ÏïàÏ£º",
    recipeCheeseBallIng1: "ÏπòÏ¶àÎ≥º",
    recipeCheeseBallIng2: "ÏãùÏö©Ïú†",
    recipeCheeseBallStep1: "Í∏∞Î¶ÑÏùÑ Îã¨Íµ∞Îã§",
    recipeCheeseBallStep2: "ÏπòÏ¶àÎ≥ºÏùÑ ÌäÄÍ∏¥Îã§",
    recipeSquidTempura: "Ïò§ÏßïÏñ¥ÌäÄÍπÄ",
    recipeSquidTempuraFit: "Î∞îÏÇ≠Ìï® Í∑πÎåÄÌôî",
    recipeSquidTempuraDesc: "ÌäÄÍπÄÍ≥º Îß•Ï£ºÏùò Í≥µÏãù",
    recipeSquidTempuraIng1: "Ïò§ÏßïÏñ¥",
    recipeSquidTempuraIng2: "ÌäÄÍπÄÍ∞ÄÎ£®",
    recipeSquidTempuraIng3: "ÏãùÏö©Ïú†",
    recipeSquidTempuraStep1: "Ïò§ÏßïÏñ¥Î•º ÏÜêÏßàÌïúÎã§",
    recipeSquidTempuraStep2: "ÌäÄÍπÄÏò∑ÏùÑ ÏûÖÌûåÎã§",
    recipeSquidTempuraStep3: "Í∏∞Î¶ÑÏóê ÌäÄÍ∏¥Îã§",
    recipeNacho: "ÎÇòÏ¥à & ÏÇ¥ÏÇ¨",
    recipeNachoFit: "Í∞ÄÎ≥çÍ≤å ÏãúÏûë",
    recipeNachoDesc: "ÏûÖ Ïã¨Ïã¨Ìï† Îïå Îî± Ï¢ãÏùÄ Îß•Ï£º ÏïàÏ£º",
    recipeNachoIng1: "ÎÇòÏ¥à",
    recipeNachoIng2: "ÏÇ¥ÏÇ¨ÏÜåÏä§",
    recipeNachoStep1: "ÎÇòÏ¥àÎ•º Ï†ëÏãúÏóê Îã¥ÎäîÎã§",
    recipeNachoStep2: "ÏÇ¥ÏÇ¨ÏÜåÏä§Î•º Í≥ÅÎì§Ïù∏Îã§",
    recipeHotWing: "Ìï´Ïúô",
    recipeHotWingFit: "Îß§ÏΩ§Ìï® + ÌÉÑÏÇ∞",
    recipeHotWingDesc: "Îß§Ïö¥ÎßõÏúºÎ°ú Îß•Ï£º Î¶¨ÏÖã",
    recipeHotWingIng1: "Îã≠ÎÇ†Í∞ú",
    recipeHotWingIng2: "Ìï´ÏÜåÏä§",
    recipeHotWingIng3: "ÏãùÏö©Ïú†",
    recipeHotWingStep1: "ÎÇ†Í∞úÎ•º ÌäÄÍ∏¥Îã§",
    recipeHotWingStep2: "Ìï´ÏÜåÏä§Î•º Î≤ÑÎ¨¥Î¶∞Îã§",
    recipeDriedSquid: "ÎßàÎ•∏ Ïò§ÏßïÏñ¥",
    recipeDriedSquidFit: "ÏîπÏùÑÏàòÎ°ù Îß•Ï£º",
    recipeDriedSquidDesc: "Îßê Ïïà ÌïòÍ≥† ÎßàÏãúÍ∏∞ Ï¢ãÏùÄ ÏïàÏ£º",
    recipeDriedSquidIng1: "ÎßàÎ•∏ Ïò§ÏßïÏñ¥",
    recipeDriedSquidStep1: "ÏÇ¥Ïßù Íµ¨Ïõå Ï§ÄÎπÑÌïúÎã§",
    recipePretzel: "ÌîÑÎ†àÏ≤º",
    recipePretzelFit: "ÎèÖÏùº Íµ≠Î£∞",
    recipePretzelDesc: "Ïß†ÎßõÏúºÎ°ú Îß•Ï£º ÌíçÎØ∏ Í∞ïÏ°∞",
    recipePretzelIng1: "ÌîÑÎ†àÏ≤º",
    recipePretzelStep1: "Í∑∏ÎåÄÎ°ú Ï†ëÏãúÏóê Îã¥ÎäîÎã§",
    // ÏÜåÏ£º
    recipeTofuKimchi: "ÎëêÎ∂ÄÍπÄÏπò",
    recipeTofuKimchiFit: "ÏÜåÏ£ºÎûë Ï∞∞Îñ°",
    recipeTofuKimchiDesc: "Í∏∞Î¶ÑÍ∏∞ÏôÄ ÏÇ∞ÎØ∏ Ï°∞Ìï©Ïùò Íµ≠Î£∞ ÏïàÏ£º",
    recipeTofuKimchiIng1: "ÎëêÎ∂Ä",
    recipeTofuKimchiIng2: "ÍπÄÏπò",
    recipeTofuKimchiIng3: "Í≥†Í∏∞",
    recipeTofuKimchiIng4: "Í≥†Ï∂ßÍ∞ÄÎ£®",
    recipeTofuKimchiStep1: "ÎëêÎ∂ÄÎ•º Îç∞ÏπúÎã§",
    recipeTofuKimchiStep2: "ÍπÄÏπòÎ•º Î≥∂ÎäîÎã§",
    recipeTofuKimchiStep3: "ÎëêÎ∂Ä ÏúÑÏóê ÍπÄÏπòÎ•º Ïò¨Î¶∞Îã§",
    recipePorkBelly: "ÏÇºÍ≤πÏÇ¥",
    recipePorkBellyFit: "ÏÜåÏ£º Íµ≠Î£∞",
    recipePorkBellyDesc: "Í∏∞Î¶ÑÏßÑ Í≥†Í∏∞Ïóê ÏÜåÏ£º Ìïú Ïûî",
    recipePorkBellyIng1: "ÏÇºÍ≤πÏÇ¥",
    recipePorkBellyIng2: "ÎßàÎäò",
    recipePorkBellyIng3: "ÏåàÏ±ÑÏÜå",
    recipePorkBellyStep1: "ÏÇºÍ≤πÏÇ¥ÏùÑ ÍµΩÎäîÎã§",
    recipePorkBellyStep2: "ÎßàÎäòÏùÑ Í≥ÅÎì§Ïù∏Îã§",
    recipeSpicyPork: "Ï†úÏú°Î≥∂Ïùå",
    recipeSpicyPorkFit: "Îß§ÏΩ§Ìï®Ïù¥ ÏÜåÏ£ºÎ•º Î∂ÄÎ•∏Îã§",
    recipeSpicyPorkDesc: "Ïä§Ìä∏Î†àÏä§ ÌíÄÎ¶¨Îäî Îß§ÏΩ§Ìïú ÏßëÏà† ÏïàÏ£º",
    recipeSpicyPorkIng1: "ÎèºÏßÄÍ≥†Í∏∞",
    recipeSpicyPorkIng2: "Í≥†Ï∂îÏû•",
    recipeSpicyPorkIng3: "ÏñëÌåå",
    recipeSpicyPorkStep1: "Í≥†Í∏∞Î•º ÏñëÎÖêÌïúÎã§",
    recipeSpicyPorkStep2: "Ìå¨Ïóê Î≥∂ÎäîÎã§",
    recipeGreenOnionPancake: "ÌååÏ†Ñ",
    recipeGreenOnionPancakeFit: "Ï†ÑÏóî Ïó≠Ïãú ÏÜåÏ£º",
    recipeGreenOnionPancakeDesc: "Î∞îÏÇ≠Ìïú Ï†Ñ Ìïú ÏûÖÏóê Ïà† Ìïú Ïûî",
    recipeGreenOnionPancakeIng1: "Î∂ÄÏπ®Í∞ÄÎ£®",
    recipeGreenOnionPancakeIng2: "Ìåå",
    recipeGreenOnionPancakeIng3: "Î¨º",
    recipeGreenOnionPancakeStep1: "Î∞òÏ£ΩÏùÑ ÎßåÎì†Îã§",
    recipeGreenOnionPancakeStep2: "ÌååÎ•º ÎÑ£Ïñ¥ ÍµΩÎäîÎã§",
    recipeConchSalad: "Í≥®Î±ÖÏù¥Î¨¥Ïπ®",
    recipeConchSaladFit: "ÏÉàÏΩ§Îß§ÏΩ§",
    recipeConchSaladDesc: "ÏûÖÎßõ ÎèãÏö∞Îäî ÌÅ¥ÎûòÏãù ÏïàÏ£º",
    recipeConchSaladIng1: "Í≥®Î±ÖÏù¥",
    recipeConchSaladIng2: "Ï±ÑÏÜå",
    recipeConchSaladIng3: "Ï¥àÍ≥†Ï∂îÏû•",
    recipeConchSaladStep1: "Ïû¨Î£åÎ•º Ïç¨Îã§",
    recipeConchSaladStep2: "ÏñëÎÖêÏóê Î≤ÑÎ¨¥Î¶∞Îã§",
    // ÏôÄÏù∏
    recipeCheeseNuts: "ÏπòÏ¶à & Í≤¨Í≥º",
    recipeCheeseNutsFit: "ÏôÄÏù∏ ÎßõÏùÑ ÏÇ¥Î†§Ï£ºÎäî Ï°∞Ìï©",
    recipeCheeseNutsDesc: "Ïà† ÎßõÏùÑ Ìï¥ÏπòÏßÄ ÏïäÎäî Í∞ÄÎ≤ºÏö¥ ÏïàÏ£º",
    recipeCheeseNutsIng1: "ÏπòÏ¶à",
    recipeCheeseNutsIng2: "Í≤¨Í≥ºÎ•ò",
    recipeCheeseNutsStep1: "ÏπòÏ¶àÎ•º ÏûêÎ•∏Îã§",
    recipeCheeseNutsStep2: "Í≤¨Í≥ºÏôÄ Ìï®Íªò Îã¥ÎäîÎã§",
    recipeSteak: "Ïä§ÌÖåÏù¥ÌÅ¨",
    recipeSteakFit: "Î†àÎìúÏôÄÏù∏Í≥º ÌôòÏÉÅ Í∂ÅÌï©",
    recipeSteakDesc: "Ïú°Ï¶ôÍ≥º ÌÉÑÎãåÏùò Ï†ïÏÑù",
    recipeSteakIng1: "ÏÜåÍ≥†Í∏∞",
    recipeSteakIng2: "ÏÜåÍ∏à",
    recipeSteakIng3: "ÌõÑÏ∂î",
    recipeSteakIng4: "Î≤ÑÌÑ∞",
    recipeSteakStep1: "Í≥†Í∏∞Ïóê Í∞ÑÌïúÎã§",
    recipeSteakStep2: "ÏÑº Î∂àÏóê ÍµΩÎäîÎã§",
    recipeSteakStep3: "Î≤ÑÌÑ∞Î°ú ÎßàÎ¨¥Î¶¨",
    recipeGambas: "Í∞êÎ∞îÏä§",
    recipeGambasFit: "ÎßàÎäò Ìñ• Í∑πÎåÄÌôî",
    recipeGambasDesc: "ÌôîÏù¥Ìä∏ÏôÄÏù∏ ÎåÄÌëú ÏïàÏ£º",
    recipeGambasIng1: "ÏÉàÏö∞",
    recipeGambasIng2: "ÎßàÎäò",
    recipeGambasIng3: "Ïò¨Î¶¨Î∏åÏò§Ïùº",
    recipeGambasStep1: "ÎßàÎäòÏùÑ Î≥∂ÎäîÎã§",
    recipeGambasStep2: "ÏÉàÏö∞Î•º ÏùµÌûåÎã§",
    // ÏúÑÏä§ÌÇ§
    recipeDarkChocolate: "Îã§ÌÅ¨Ï¥àÏΩúÎ¶ø",
    recipeDarkChocolateFit: "ÏúÑÏä§ÌÇ§ Îã®Îßõ Í∞ïÏ°∞",
    recipeDarkChocolateDesc: "Ïì¥ÎßõÍ≥º Îã®ÎßõÏùò Î∞∏Îü∞Ïä§",
    recipeDarkChocolateIng1: "Îã§ÌÅ¨Ï¥àÏΩúÎ¶ø",
    recipeDarkChocolateStep1: "Ìïú Ï°∞Í∞ÅÏî© Ï§ÄÎπÑÌïúÎã§",
    recipeNutsMix: "Í≤¨Í≥ºÎ•ò ÎØπÏä§",
    recipeNutsMixFit: "ÌÅ¥ÎûòÏãù",
    recipeNutsMixDesc: "ÏúÑÏä§ÌÇ§ Ï¥àÎ≥¥ÎèÑ Ïã§Ìå® ÏóÜÏùå",
    recipeNutsMixIng1: "Í≤¨Í≥ºÎ•ò",
    recipeNutsMixStep1: "Í∑∏ÎåÄÎ°ú Îã¥ÏïÑÎÇ∏Îã§",
    recipeSmokedCheese: "ÌõàÏ†ú ÏπòÏ¶à",
    recipeSmokedCheeseFit: "Ïä§Î™®ÌÇ§ Îß§Ïπ≠",
    recipeSmokedCheeseDesc: "ÏúÑÏä§ÌÇ§ Ìñ•Í≥º Ïûò ÎßûÏùå",
    recipeSmokedCheeseIng1: "ÌõàÏ†ú ÏπòÏ¶à",
    recipeSmokedCheeseStep1: "Ïç∞Ïñ¥ÏÑú Ï†ëÏãúÏóê Îã¥ÎäîÎã§"
  },
  en: {
    metaTitle: "Perfect Anju for This Drink üçª",
    metaDescription: "Recommend the perfect side dish for your drink, no worries needed",
    title: "üçª Perfect Anju for This Drink",
    subtitle: "The perfect side dish for your drink",
    footer: "¬© Home Drinking Mate ¬∑ Anju Recommendation Service ¬∑ funnyfunny.cloud",
    ingredients: "Ingredients",
    steps: "How to Make",
    todayAnju: "Today's Anju üç∫",
    timeBadge: "{time} min before the drink gets warm",
    difficultyBadge: "Difficulty {difficulty}",
    rerollBtn: "Recommend another anju",
    saveImageBtn: "Save Image",
    moreTestsBtn: "Try Other Tests",
    // Steps
    step1Question: "What drink?",
    step1Sub: "Anju varies greatly depending on the drink.",
    step1Beer: "üç∫ Beer",
    step1Soju: "üç∂ Soju",
    step1Wine: "üç∑ Wine",
    step1Whiskey: "ü•É Whiskey",
    step2Question: "What type of wine?",
    step2Sub: "Red and white wines have different matching anju.",
    step2Red: "üç∑ Red Wine",
    step2White: "ü•Ç White Wine",
    // Difficulty
    difficultyEasy: "Easy",
    difficultyMedium: "Medium",
    difficultyHard: "Hard",
    // Save Image
    saveImageTitle: "Perfect Anju for This Drink",
    saveImageIngredients: "Ingredients",
    saveImageSteps: "How to Make",
    saveImageFooter: "üçª Perfect Anju for This Drink ¬∑ Anju Recommendation ¬∑ funnyfunny.cloud",
    saveImageTime: "{time} min",
    saveImageDifficulty: "Difficulty {difficulty}",
    // Recipes (Beer)
    recipeChicken: "Fried Chicken",
    recipeChickenFit: "Beer is incomplete without it",
    recipeChickenDesc: "The ultimate boss of beer anju, no explanation needed",
    recipeChickenIng1: "Chicken",
    recipeChickenIng2: "Flour",
    recipeChickenIng3: "Cooking oil",
    recipeChickenIng4: "Salt",
    recipeChickenStep1: "Season chicken with salt",
    recipeChickenStep2: "Coat with flour",
    recipeChickenStep3: "Fry until golden brown",
    recipeFries: "French Fries",
    recipeFriesFit: "Beer flows smoothly",
    recipeFriesDesc: "Anju that speeds up beer with just saltiness",
    recipeFriesIng1: "Potatoes",
    recipeFriesIng2: "Cooking oil",
    recipeFriesIng3: "Salt",
    recipeFriesStep1: "Cut potatoes into strips",
    recipeFriesStep2: "Fry until crispy",
    recipeFriesStep3: "Sprinkle with salt",
    recipeSausage: "Grilled Sausage",
    recipeSausageFit: "German vibe",
    recipeSausageDesc: "Classic beer anju full of juice",
    recipeSausageIng1: "Sausage",
    recipeSausageIng2: "Mustard",
    recipeSausageStep1: "Grill sausage in pan",
    recipeSausageStep2: "Place on plate when golden",
    recipePizza: "Pizza",
    recipePizzaFit: "Carbonation cuts the greasiness",
    recipePizzaDesc: "A no-fail choice when drinking with others",
    recipePizzaIng1: "Pizza dough",
    recipePizzaIng2: "Tomato sauce",
    recipePizzaIng3: "Cheese",
    recipePizzaIng4: "Toppings",
    recipePizzaStep1: "Spread sauce on dough",
    recipePizzaStep2: "Add cheese and toppings",
    recipePizzaStep3: "Bake in oven",
    recipeCheeseBall: "Cheese Balls",
    recipeCheeseBallFit: "Sweet & salty combo",
    recipeCheeseBallDesc: "Perfect bite-sized anju",
    recipeCheeseBallIng1: "Cheese balls",
    recipeCheeseBallIng2: "Cooking oil",
    recipeCheeseBallStep1: "Heat oil",
    recipeCheeseBallStep2: "Fry cheese balls",
    recipeSquidTempura: "Squid Tempura",
    recipeSquidTempuraFit: "Crispiness maximized",
    recipeSquidTempuraDesc: "The formula of tempura and beer",
    recipeSquidTempuraIng1: "Squid",
    recipeSquidTempuraIng2: "Flour",
    recipeSquidTempuraIng3: "Cooking oil",
    recipeSquidTempuraStep1: "Prepare squid",
    recipeSquidTempuraStep2: "Coat with batter",
    recipeSquidTempuraStep3: "Fry in oil",
    recipeNacho: "Nachos & Salsa",
    recipeNachoFit: "Start light",
    recipeNachoDesc: "Perfect beer anju when you're bored",
    recipeNachoIng1: "Nachos",
    recipeNachoIng2: "Salsa sauce",
    recipeNachoStep1: "Place nachos on plate",
    recipeNachoStep2: "Serve with salsa",
    recipeHotWing: "Hot Wings",
    recipeHotWingFit: "Spicy + carbonation",
    recipeHotWingDesc: "Reset beer with spiciness",
    recipeHotWingIng1: "Chicken wings",
    recipeHotWingIng2: "Hot sauce",
    recipeHotWingIng3: "Cooking oil",
    recipeHotWingStep1: "Fry wings",
    recipeHotWingStep2: "Toss with hot sauce",
    recipeDriedSquid: "Dried Squid",
    recipeDriedSquidFit: "The more you chew, the more beer",
    recipeDriedSquidDesc: "Good anju for silent drinking",
    recipeDriedSquidIng1: "Dried squid",
    recipeDriedSquidStep1: "Lightly grill and prepare",
    recipePretzel: "Pretzel",
    recipePretzelFit: "German standard",
    recipePretzelDesc: "Enhances beer flavor with saltiness",
    recipePretzelIng1: "Pretzel",
    recipePretzelStep1: "Place on plate as is",
    // Soju
    recipeTofuKimchi: "Tofu & Kimchi",
    recipeTofuKimchiFit: "Perfect match with soju",
    recipeTofuKimchiDesc: "The standard anju combo of oiliness and acidity",
    recipeTofuKimchiIng1: "Tofu",
    recipeTofuKimchiIng2: "Kimchi",
    recipeTofuKimchiIng3: "Meat",
    recipeTofuKimchiIng4: "Red pepper powder",
    recipeTofuKimchiStep1: "Boil tofu",
    recipeTofuKimchiStep2: "Stir-fry kimchi",
    recipeTofuKimchiStep3: "Place kimchi on tofu",
    recipePorkBelly: "Pork Belly",
    recipePorkBellyFit: "Soju standard",
    recipePorkBellyDesc: "Fatty meat with soju",
    recipePorkBellyIng1: "Pork belly",
    recipePorkBellyIng2: "Garlic",
    recipePorkBellyIng3: "Leafy vegetables",
    recipePorkBellyStep1: "Grill pork belly",
    recipePorkBellyStep2: "Serve with garlic",
    recipeSpicyPork: "Spicy Pork Stir-fry",
    recipeSpicyPorkFit: "Spiciness calls for soju",
    recipeSpicyPorkDesc: "Stress-relieving spicy home drinking anju",
    recipeSpicyPorkIng1: "Pork",
    recipeSpicyPorkIng2: "Gochujang",
    recipeSpicyPorkIng3: "Onion",
    recipeSpicyPorkStep1: "Season meat",
    recipeSpicyPorkStep2: "Stir-fry in pan",
    recipeGreenOnionPancake: "Green Onion Pancake",
    recipeGreenOnionPancakeFit: "Jeon is best with soju",
    recipeGreenOnionPancakeDesc: "A sip of crispy jeon, a sip of alcohol",
    recipeGreenOnionPancakeIng1: "Pancake mix",
    recipeGreenOnionPancakeIng2: "Green onion",
    recipeGreenOnionPancakeIng3: "Water",
    recipeGreenOnionPancakeStep1: "Make batter",
    recipeGreenOnionPancakeStep2: "Add green onion and cook",
    recipeConchSalad: "Conch Salad",
    recipeConchSaladFit: "Sour & spicy",
    recipeConchSaladDesc: "Classic appetite-whetting anju",
    recipeConchSaladIng1: "Conch",
    recipeConchSaladIng2: "Vegetables",
    recipeConchSaladIng3: "Vinegar gochujang",
    recipeConchSaladStep1: "Cut ingredients",
    recipeConchSaladStep2: "Mix with sauce",
    // Wine
    recipeCheeseNuts: "Cheese & Nuts",
    recipeCheeseNutsFit: "Combination that enhances wine flavor",
    recipeCheeseNutsDesc: "Light anju that doesn't interfere with wine taste",
    recipeCheeseNutsIng1: "Cheese",
    recipeCheeseNutsIng2: "Nuts",
    recipeCheeseNutsStep1: "Cut cheese",
    recipeCheeseNutsStep2: "Serve with nuts",
    recipeSteak: "Steak",
    recipeSteakFit: "Perfect match with red wine",
    recipeSteakDesc: "The standard of juice and tannin",
    recipeSteakIng1: "Beef",
    recipeSteakIng2: "Salt",
    recipeSteakIng3: "Pepper",
    recipeSteakIng4: "Butter",
    recipeSteakStep1: "Season meat",
    recipeSteakStep2: "Grill over high heat",
    recipeSteakStep3: "Finish with butter",
    recipeGambas: "Gambas",
    recipeGambasFit: "Garlic flavor maximized",
    recipeGambasDesc: "Representative white wine anju",
    recipeGambasIng1: "Shrimp",
    recipeGambasIng2: "Garlic",
    recipeGambasIng3: "Olive oil",
    recipeGambasStep1: "Stir-fry garlic",
    recipeGambasStep2: "Cook shrimp",
    // Whiskey
    recipeDarkChocolate: "Dark Chocolate",
    recipeDarkChocolateFit: "Emphasizes whiskey sweetness",
    recipeDarkChocolateDesc: "Balance of bitterness and sweetness",
    recipeDarkChocolateIng1: "Dark chocolate",
    recipeDarkChocolateStep1: "Prepare piece by piece",
    recipeNutsMix: "Mixed Nuts",
    recipeNutsMixFit: "Classic",
    recipeNutsMixDesc: "Even whiskey beginners won't fail",
    recipeNutsMixIng1: "Nuts",
    recipeNutsMixStep1: "Serve as is",
    recipeSmokedCheese: "Smoked Cheese",
    recipeSmokedCheeseFit: "Smoky match",
    recipeSmokedCheeseDesc: "Goes well with whiskey aroma",
    recipeSmokedCheeseIng1: "Smoked cheese",
    recipeSmokedCheeseStep1: "Slice and place on plate"
  }
};

const defaultLang = "ko";
const supportedLangs = ["ko", "en"];
let currentLang = defaultLang;

function t(key, vars = {}) {
  const langTable = translations[currentLang] || translations.ko;
  const template = langTable?.[key] ?? translations.ko?.[key] ?? key;
  if (typeof template !== "string") return template;
  return template.replace(/\{(\w+)\}/g, (_, token) =>
    vars[token] !== undefined ? vars[token] : `{${token}}`
  );
}

function applyTranslations() {
  document.title = t("metaTitle");
  const desc = document.querySelector('meta[name="description"]');
  if (desc) desc.setAttribute("content", t("metaDescription"));
  document.documentElement.lang = currentLang;
  document.querySelectorAll("[data-i18n]").forEach((el) => {
    if (el.tagName === "FOOTER") {
      el.innerHTML = t("footer") + ' ¬∑ <a href="https://funnyfunny.cloud" target="_blank" style="color:#94a3b8;text-decoration:none;">funnyfunny.cloud</a>';
    } else {
      el.textContent = t(el.dataset.i18n);
    }
  });
  if (typeof renderStep === "function") renderStep();
  if (typeof renderResultContent === "function" && currentRecipe) renderResultContent(currentRecipe);
}

function setLang(lang, options = {}) {
  const nextLang = translations[lang] ? lang : defaultLang;
  currentLang = nextLang;
  window.currentLang = currentLang;
  window.t = t;
  document.documentElement.lang = nextLang;
  localStorage.setItem("preferredLang", nextLang);
  document.querySelectorAll(".lang-switch button").forEach((button) => {
    button.classList.toggle("active", button.dataset.lang === nextLang);
  });
  applyTranslations();
  if (options.updateUrl) {
    const url = new URL(window.location.href);
    url.searchParams.set("lang", nextLang);
    window.history.replaceState({}, "", url);
  }
  // Ïñ∏Ïñ¥ Î≥ÄÍ≤Ω Ïãú ÌòÑÏû¨ Î†àÏãúÌîºÍ∞Ä ÏûàÏúºÎ©¥ Ïû¨Î†åÎçîÎßÅ
  if (currentRecipe) {
    renderResultContent(currentRecipe);
  }
}

function detectLang() {
  const params = new URLSearchParams(window.location.search);
  const paramLang = params.get("lang");
  if (supportedLangs.includes(paramLang)) return paramLang;
  const stored = localStorage.getItem("preferredLang");
  if (supportedLangs.includes(stored)) return stored;
  const browserLang =
    navigator.languages && navigator.languages.length
      ? navigator.languages[0]
      : navigator.language;
  if (browserLang && browserLang.toLowerCase().startsWith("ko")) {
    return "ko";
  }
  return defaultLang;
}

/* STEP Ï†ïÏùò */
function getSteps() {
  return [
    {
      key: "drink",
      q: t("step1Question"),
      sub: t("step1Sub"),
      a: [
        { t: t("step1Beer"), v: "beer" },
        { t: t("step1Soju"), v: "soju" },
        { t: t("step1Wine"), v: "wine" },
        { t: t("step1Whiskey"), v: "whiskey" }
      ]
    },
    {
      key: "wineType",
      q: t("step2Question"),
      sub: t("step2Sub"),
      condition: (a) => a.drink === "wine",
      a: [
        { t: t("step2Red"), v: "red" },
        { t: t("step2White"), v: "white" }
      ]
    }
  ];
}

/* ÏïàÏ£º Î†àÏãúÌîº */
const recipes = [
/* =========================
   üç∫ Îß•Ï£º
========================= */
{
  name: "ÏπòÌÇ®",
  drink: ["beer"],
  alcoholFit: "Îß•Ï£º ÏóÜÏúºÎ©¥ ÏÑ≠ÏÑ≠",
  time: 30,
  difficulty: "Ï§ë",
  description: "ÎßêÏù¥ ÌïÑÏöî ÏóÜÎäî Îß•Ï£º ÏïàÏ£ºÏùò ÏµúÏ¢Ö Î≥¥Ïä§",
  ingredients: ["Îã≠", "ÌäÄÍπÄÍ∞ÄÎ£®", "ÏãùÏö©Ïú†", "ÏÜåÍ∏à"],
  steps: [
    "Îã≠Ïóê ÏÜåÍ∏àÏúºÎ°ú Î∞ëÍ∞ÑÌïúÎã§",
    "ÌäÄÍπÄÍ∞ÄÎ£®Î•º ÏûÖÌûåÎã§",
    "Í∏∞Î¶ÑÏóê ÎÖ∏Î¶áÌïòÍ≤å ÌäÄÍ∏¥Îã§"
  ]
},
{
  name: "Í∞êÏûêÌäÄÍπÄ",
  drink: ["beer"],
  alcoholFit: "Îß•Ï£ºÍ∞Ä Ïà†Ïà†",
  time: 10,
  difficulty: "Ìïò",
  description: "Ïß≠Ïß§Ìï® ÌïòÎÇòÎ°ú Îß•Ï£º ÏÜçÎèÑ Ïò¨Î¶¨Îäî ÏïàÏ£º",
  ingredients: ["Í∞êÏûê", "ÏãùÏö©Ïú†", "ÏÜåÍ∏à"],
  steps: [
    "Í∞êÏûêÎ•º Í∏∏Í≤å Ïç¨Îã§",
    "Í∏∞Î¶ÑÏóê Î∞îÏÇ≠ÌïòÍ≤å ÌäÄÍ∏¥Îã§",
    "ÏÜåÍ∏àÏùÑ ÎøåÎ¶∞Îã§"
  ]
},
{
  name: "ÏÜåÏãúÏßÄ Íµ¨Ïù¥",
  drink: ["beer"],
  alcoholFit: "ÎèÖÏùº Í∞êÏÑ±",
  time: 10,
  difficulty: "Ìïò",
  description: "Ïú°Ï¶ô Í∞ÄÎìùÌïú ÌÅ¥ÎûòÏãù Îß•Ï£º ÏïàÏ£º",
  ingredients: ["ÏÜåÏãúÏßÄ", "Î®∏Ïä§ÌÑ∞Îìú"],
  steps: [
    "Ìå¨Ïóê ÏÜåÏãúÏßÄÎ•º ÍµΩÎäîÎã§",
    "ÎÖ∏Î¶áÌï¥ÏßÄÎ©¥ Ï†ëÏãúÏóê Îã¥ÎäîÎã§"
  ]
},
{
  name: "ÌîºÏûê",
  drink: ["beer"],
  alcoholFit: "ÌÉÑÏÇ∞ÏúºÎ°ú ÎäêÎÅºÌï® Ïª∑",
  time: 25,
  difficulty: "Ï§ë",
  description: "Ïó¨ÎüøÏù¥ ÎßàÏã§ Îïå Ïã§Ìå® ÏóÜÎäî ÏÑ†ÌÉù",
  ingredients: ["ÌîºÏûê ÎèÑÏö∞", "ÌÜ†ÎßàÌÜ†ÏÜåÏä§", "ÏπòÏ¶à", "ÌÜ†Ìïë"],
  steps: [
    "ÎèÑÏö∞Ïóê ÏÜåÏä§Î•º Î∞îÎ•∏Îã§",
    "ÏπòÏ¶àÏôÄ ÌÜ†ÌïëÏùÑ Ïò¨Î¶∞Îã§",
    "Ïò§Î∏êÏóê ÍµΩÎäîÎã§"
  ]
},
{
  name: "ÏπòÏ¶àÎ≥º",
  drink: ["beer"],
  alcoholFit: "Îã®Ïß† Ï°∞Ìï©",
  time: 8,
  difficulty: "Ìïò",
  description: "Ìïú ÏûÖÏî© ÏßëÏñ¥Î®πÍ∏∞ Ï¢ãÏùÄ ÏïàÏ£º",
  ingredients: ["ÏπòÏ¶àÎ≥º", "ÏãùÏö©Ïú†"],
  steps: [
    "Í∏∞Î¶ÑÏùÑ Îã¨Íµ∞Îã§",
    "ÏπòÏ¶àÎ≥ºÏùÑ ÌäÄÍ∏¥Îã§"
  ]
},
{
  name: "Ïò§ÏßïÏñ¥ÌäÄÍπÄ",
  drink: ["beer"],
  alcoholFit: "Î∞îÏÇ≠Ìï® Í∑πÎåÄÌôî",
  time: 20,
  difficulty: "Ï§ë",
  description: "ÌäÄÍπÄÍ≥º Îß•Ï£ºÏùò Í≥µÏãù",
  ingredients: ["Ïò§ÏßïÏñ¥", "ÌäÄÍπÄÍ∞ÄÎ£®", "ÏãùÏö©Ïú†"],
  steps: [
    "Ïò§ÏßïÏñ¥Î•º ÏÜêÏßàÌïúÎã§",
    "ÌäÄÍπÄÏò∑ÏùÑ ÏûÖÌûåÎã§",
    "Í∏∞Î¶ÑÏóê ÌäÄÍ∏¥Îã§"
  ]
},
{
  name: "ÎÇòÏ¥à & ÏÇ¥ÏÇ¨",
  drink: ["beer"],
  alcoholFit: "Í∞ÄÎ≥çÍ≤å ÏãúÏûë",
  time: 5,
  difficulty: "Ìïò",
  description: "ÏûÖ Ïã¨Ïã¨Ìï† Îïå Îî± Ï¢ãÏùÄ Îß•Ï£º ÏïàÏ£º",
  ingredients: ["ÎÇòÏ¥à", "ÏÇ¥ÏÇ¨ÏÜåÏä§"],
  steps: [
    "ÎÇòÏ¥àÎ•º Ï†ëÏãúÏóê Îã¥ÎäîÎã§",
    "ÏÇ¥ÏÇ¨ÏÜåÏä§Î•º Í≥ÅÎì§Ïù∏Îã§"
  ]
},
{
  name: "Ìï´Ïúô",
  drink: ["beer"],
  alcoholFit: "Îß§ÏΩ§Ìï® + ÌÉÑÏÇ∞",
  time: 20,
  difficulty: "Ï§ë",
  description: "Îß§Ïö¥ÎßõÏúºÎ°ú Îß•Ï£º Î¶¨ÏÖã",
  ingredients: ["Îã≠ÎÇ†Í∞ú", "Ìï´ÏÜåÏä§", "ÏãùÏö©Ïú†"],
  steps: [
    "ÎÇ†Í∞úÎ•º ÌäÄÍ∏¥Îã§",
    "Ìï´ÏÜåÏä§Î•º Î≤ÑÎ¨¥Î¶∞Îã§"
  ]
},
{
  name: "ÎßàÎ•∏ Ïò§ÏßïÏñ¥",
  drink: ["beer"],
  alcoholFit: "ÏîπÏùÑÏàòÎ°ù Îß•Ï£º",
  time: 2,
  difficulty: "Ìïò",
  description: "Îßê Ïïà ÌïòÍ≥† ÎßàÏãúÍ∏∞ Ï¢ãÏùÄ ÏïàÏ£º",
  ingredients: ["ÎßàÎ•∏ Ïò§ÏßïÏñ¥"],
  steps: [
    "ÏÇ¥Ïßù Íµ¨Ïõå Ï§ÄÎπÑÌïúÎã§"
  ]
},
{
  name: "ÌîÑÎ†àÏ≤º",
  drink: ["beer"],
  alcoholFit: "ÎèÖÏùº Íµ≠Î£∞",
  time: 5,
  difficulty: "Ìïò",
  description: "Ïß†ÎßõÏúºÎ°ú Îß•Ï£º ÌíçÎØ∏ Í∞ïÏ°∞",
  ingredients: ["ÌîÑÎ†àÏ≤º"],
  steps: [
    "Í∑∏ÎåÄÎ°ú Ï†ëÏãúÏóê Îã¥ÎäîÎã§"
  ]
},

/* =========================
   üç∂ ÏÜåÏ£º
========================= */
{
  name: "ÎëêÎ∂ÄÍπÄÏπò",
  drink: ["soju","beer"],
  alcoholFit: "ÏÜåÏ£ºÎûë Ï∞∞Îñ°",
  time: 15,
  difficulty: "Ìïò",
  description: "Í∏∞Î¶ÑÍ∏∞ÏôÄ ÏÇ∞ÎØ∏ Ï°∞Ìï©Ïùò Íµ≠Î£∞ ÏïàÏ£º",
  ingredients: ["ÎëêÎ∂Ä", "ÍπÄÏπò", "Í≥†Í∏∞", "Í≥†Ï∂ßÍ∞ÄÎ£®"],
  steps: [
    "ÎëêÎ∂ÄÎ•º Îç∞ÏπúÎã§",
    "ÍπÄÏπòÎ•º Î≥∂ÎäîÎã§",
    "ÎëêÎ∂Ä ÏúÑÏóê ÍπÄÏπòÎ•º Ïò¨Î¶∞Îã§"
  ]
},
{
  name: "ÏÇºÍ≤πÏÇ¥",
  drink: ["soju"],
  alcoholFit: "ÏÜåÏ£º Íµ≠Î£∞",
  time: 30,
  difficulty: "Ï§ë",
  description: "Í∏∞Î¶ÑÏßÑ Í≥†Í∏∞Ïóê ÏÜåÏ£º Ìïú Ïûî",
  ingredients: ["ÏÇºÍ≤πÏÇ¥", "ÎßàÎäò", "ÏåàÏ±ÑÏÜå"],
  steps: [
    "ÏÇºÍ≤πÏÇ¥ÏùÑ ÍµΩÎäîÎã§",
    "ÎßàÎäòÏùÑ Í≥ÅÎì§Ïù∏Îã§"
  ]
},
{
  name: "Ï†úÏú°Î≥∂Ïùå",
  drink: ["soju"],
  alcoholFit: "Îß§ÏΩ§Ìï®Ïù¥ ÏÜåÏ£ºÎ•º Î∂ÄÎ•∏Îã§",
  time: 25,
  difficulty: "Ï§ë",
  description: "Ïä§Ìä∏Î†àÏä§ ÌíÄÎ¶¨Îäî Îß§ÏΩ§Ìïú ÏßëÏà† ÏïàÏ£º",
  ingredients: ["ÎèºÏßÄÍ≥†Í∏∞", "Í≥†Ï∂îÏû•", "ÏñëÌåå"],
  steps: [
    "Í≥†Í∏∞Î•º ÏñëÎÖêÌïúÎã§",
    "Ìå¨Ïóê Î≥∂ÎäîÎã§"
  ]
},
{
  name: "ÌååÏ†Ñ",
  drink: ["soju","beer"],
  alcoholFit: "Ï†ÑÏóî Ïó≠Ïãú ÏÜåÏ£º",
  time: 20,
  difficulty: "Ï§ë",
  description: "Î∞îÏÇ≠Ìïú Ï†Ñ Ìïú ÏûÖÏóê Ïà† Ìïú Ïûî",
  ingredients: ["Î∂ÄÏπ®Í∞ÄÎ£®", "Ìåå", "Î¨º"],
  steps: [
    "Î∞òÏ£ΩÏùÑ ÎßåÎì†Îã§",
    "ÌååÎ•º ÎÑ£Ïñ¥ ÍµΩÎäîÎã§"
  ]
},
{
  name: "Í≥®Î±ÖÏù¥Î¨¥Ïπ®",
  drink: ["soju","beer"],
  alcoholFit: "ÏÉàÏΩ§Îß§ÏΩ§",
  time: 15,
  difficulty: "Ìïò",
  description: "ÏûÖÎßõ ÎèãÏö∞Îäî ÌÅ¥ÎûòÏãù ÏïàÏ£º",
  ingredients: ["Í≥®Î±ÖÏù¥", "Ï±ÑÏÜå", "Ï¥àÍ≥†Ï∂îÏû•"],
  steps: [
    "Ïû¨Î£åÎ•º Ïç¨Îã§",
    "ÏñëÎÖêÏóê Î≤ÑÎ¨¥Î¶∞Îã§"
  ]
},

/* =========================
   üç∑ ÏôÄÏù∏
========================= */
{
  name: "ÏπòÏ¶à & Í≤¨Í≥º",
  drink: ["wine"],
  wineType: ["red","white"],
  alcoholFit: "ÏôÄÏù∏ ÎßõÏùÑ ÏÇ¥Î†§Ï£ºÎäî Ï°∞Ìï©",
  time: 5,
  difficulty: "Ìïò",
  description: "Ïà† ÎßõÏùÑ Ìï¥ÏπòÏßÄ ÏïäÎäî Í∞ÄÎ≤ºÏö¥ ÏïàÏ£º",
  ingredients: ["ÏπòÏ¶à", "Í≤¨Í≥ºÎ•ò"],
  steps: [
    "ÏπòÏ¶àÎ•º ÏûêÎ•∏Îã§",
    "Í≤¨Í≥ºÏôÄ Ìï®Íªò Îã¥ÎäîÎã§"
  ]
},
{
  name: "Ïä§ÌÖåÏù¥ÌÅ¨",
  drink: ["wine"],
  wineType: ["red"],
  alcoholFit: "Î†àÎìúÏôÄÏù∏Í≥º ÌôòÏÉÅ Í∂ÅÌï©",
  time: 25,
  difficulty: "Ï§ë",
  description: "Ïú°Ï¶ôÍ≥º ÌÉÑÎãåÏùò Ï†ïÏÑù",
  ingredients: ["ÏÜåÍ≥†Í∏∞", "ÏÜåÍ∏à", "ÌõÑÏ∂î", "Î≤ÑÌÑ∞"],
  steps: [
    "Í≥†Í∏∞Ïóê Í∞ÑÌïúÎã§",
    "ÏÑº Î∂àÏóê ÍµΩÎäîÎã§",
    "Î≤ÑÌÑ∞Î°ú ÎßàÎ¨¥Î¶¨"
  ]
},
{
  name: "Í∞êÎ∞îÏä§",
  drink: ["wine"],
  wineType: ["white"],
  alcoholFit: "ÎßàÎäò Ìñ• Í∑πÎåÄÌôî",
  time: 15,
  difficulty: "Ï§ë",
  description: "ÌôîÏù¥Ìä∏ÏôÄÏù∏ ÎåÄÌëú ÏïàÏ£º",
  ingredients: ["ÏÉàÏö∞", "ÎßàÎäò", "Ïò¨Î¶¨Î∏åÏò§Ïùº"],
  steps: [
    "ÎßàÎäòÏùÑ Î≥∂ÎäîÎã§",
    "ÏÉàÏö∞Î•º ÏùµÌûåÎã§"
  ]
},

/* =========================
   ü•É ÏúÑÏä§ÌÇ§
========================= */
{
  name: "Îã§ÌÅ¨Ï¥àÏΩúÎ¶ø",
  drink: ["whiskey","wine"],
  alcoholFit: "ÏúÑÏä§ÌÇ§ Îã®Îßõ Í∞ïÏ°∞",
  time: 3,
  difficulty: "Ìïò",
  description: "Ïì¥ÎßõÍ≥º Îã®ÎßõÏùò Î∞∏Îü∞Ïä§",
  ingredients: ["Îã§ÌÅ¨Ï¥àÏΩúÎ¶ø"],
  steps: [
    "Ìïú Ï°∞Í∞ÅÏî© Ï§ÄÎπÑÌïúÎã§"
  ]
},
{
  name: "Í≤¨Í≥ºÎ•ò ÎØπÏä§",
  drink: ["whiskey"],
  alcoholFit: "ÌÅ¥ÎûòÏãù",
  time: 2,
  difficulty: "Ìïò",
  description: "ÏúÑÏä§ÌÇ§ Ï¥àÎ≥¥ÎèÑ Ïã§Ìå® ÏóÜÏùå",
  ingredients: ["Í≤¨Í≥ºÎ•ò"],
  steps: [
    "Í∑∏ÎåÄÎ°ú Îã¥ÏïÑÎÇ∏Îã§"
  ]
},
{
  name: "ÌõàÏ†ú ÏπòÏ¶à",
  drink: ["whiskey"],
  alcoholFit: "Ïä§Î™®ÌÇ§ Îß§Ïπ≠",
  time: 5,
  difficulty: "Ìïò",
  description: "ÏúÑÏä§ÌÇ§ Ìñ•Í≥º Ïûò ÎßûÏùå",
  ingredients: ["ÌõàÏ†ú ÏπòÏ¶à"],
  steps: [
    "Ïç∞Ïñ¥ÏÑú Ï†ëÏãúÏóê Îã¥ÎäîÎã§"
  ]
}
];

// Î†àÏãúÌîº key Îß§Ìïë (Î†àÏãúÌîº Ïù¥Î¶Ñ -> Î≤àÏó≠ ÌÇ§)
const recipeKeyMap = {
  "ÏπòÌÇ®": "chicken",
  "Í∞êÏûêÌäÄÍπÄ": "fries",
  "ÏÜåÏãúÏßÄ Íµ¨Ïù¥": "sausage",
  "ÌîºÏûê": "pizza",
  "ÏπòÏ¶àÎ≥º": "cheeseBall",
  "Ïò§ÏßïÏñ¥ÌäÄÍπÄ": "squidTempura",
  "ÎÇòÏ¥à & ÏÇ¥ÏÇ¨": "nacho",
  "Ìï´Ïúô": "hotWing",
  "ÎßàÎ•∏ Ïò§ÏßïÏñ¥": "driedSquid",
  "ÌîÑÎ†àÏ≤º": "pretzel",
  "ÎëêÎ∂ÄÍπÄÏπò": "tofuKimchi",
  "ÏÇºÍ≤πÏÇ¥": "porkBelly",
  "Ï†úÏú°Î≥∂Ïùå": "spicyPork",
  "ÌååÏ†Ñ": "greenOnionPancake",
  "Í≥®Î±ÖÏù¥Î¨¥Ïπ®": "conchSalad",
  "ÏπòÏ¶à & Í≤¨Í≥º": "cheeseNuts",
  "Ïä§ÌÖåÏù¥ÌÅ¨": "steak",
  "Í∞êÎ∞îÏä§": "gambas",
  "Îã§ÌÅ¨Ï¥àÏΩúÎ¶ø": "darkChocolate",
  "Í≤¨Í≥ºÎ•ò ÎØπÏä§": "nutsMix",
  "ÌõàÏ†ú ÏπòÏ¶à": "smokedCheese"
};

// Î≤àÏó≠Îêú Î†àÏãúÌîº Í∞ùÏ≤¥ ÏÉùÏÑ± Ìï®Ïàò
function translateRecipe(recipe) {
  const key = recipeKeyMap[recipe.name] || recipe.key || recipe.name.toLowerCase().replace(/\s+/g, "");
  const isKo = currentLang === "ko";
  
  const difficultyMap = { "Ìïò": "Easy", "Ï§ë": "Medium", "ÏÉÅ": "Hard" };
  const translatedDifficulty = isKo ? recipe.difficulty : (difficultyMap[recipe.difficulty] || recipe.difficulty);
  
  // ingredientsÏôÄ steps Î≤àÏó≠ ÌÇ§ ÏÉùÏÑ±
  const ingredientKeys = recipe.ingredients.map((ing, idx) => {
    const ingKey = `recipe${key.charAt(0).toUpperCase() + key.slice(1)}Ing${idx + 1}`;
    return t(ingKey) !== ingKey ? t(ingKey) : ing;
  });
  
  const stepKeys = recipe.steps.map((step, idx) => {
    const stepKey = `recipe${key.charAt(0).toUpperCase() + key.slice(1)}Step${idx + 1}`;
    return t(stepKey) !== stepKey ? t(stepKey) : step;
  });
  
  const nameKey = `recipe${key.charAt(0).toUpperCase() + key.slice(1)}`;
  const fitKey = `${nameKey}Fit`;
  const descKey = `${nameKey}Desc`;
  
  return {
    ...recipe,
    name: t(nameKey) !== nameKey ? t(nameKey) : recipe.name,
    alcoholFit: t(fitKey) !== fitKey ? t(fitKey) : recipe.alcoholFit,
    description: t(descKey) !== descKey ? t(descKey) : recipe.description,
    difficulty: translatedDifficulty,
    ingredients: ingredientKeys,
    steps: stepKeys
  };
}

// Î≤àÏó≠Îêú Î†àÏãúÌîº Î∞∞Ïó¥ Î∞òÌôò
function getRecipes() {
  return recipes.map(translateRecipe);
}

let stepIndex = 0;
const answers = {};
const stepCard = document.getElementById("stepCard");
const resultCard = document.getElementById("resultCard");
let currentRecipe = null;

function random(arr) {
  return arr[Math.floor(Math.random() * arr.length)];
}

function currentStep() {
  const steps = getSteps();
  while (
    stepIndex < steps.length &&
    steps[stepIndex].condition &&
    !steps[stepIndex].condition(answers)
  ) {
    stepIndex++;
  }
  return steps[stepIndex];
}

function renderStep() {
  const s = currentStep();
  if (!s) return showResult();

  stepCard.innerHTML = `
    <div class="step-title">${s.q}</div>
    <div class="step-sub">${s.sub}</div>
    <div class="choices">
      ${s.a.map(o =>
        `<div class="choice" onclick="nextStep('${s.key}','${o.v}')">${o.t}</div>`
      ).join("")}
    </div>
  `;
}

function nextStep(key, value) {
  answers[key] = value;
  stepIndex++;
  renderStep();
}

function pickAnju(a) {
  const recipes = getRecipes();
  let list = recipes.filter(r =>
    r.drink.includes(a.drink) &&
    (!r.wineType || r.wineType.includes(a.wineType))
  );

  if (!list.length) {
    list = recipes.filter(r => r.drink.includes(a.drink));
  }

  return random(list);
}

function showResult() {
  stepCard.style.display = "none";
  resultCard.style.display = "block";

  currentRecipe = pickAnju(answers);
  renderResultContent(currentRecipe);
}

function reroll() {
  currentRecipe = pickAnju(answers);
  renderResultContent(currentRecipe);
}

function renderResultContent(r) {
  const ingredientView = r.ingredients ? `
    <div class="section">
      <h3>${t("ingredients")}</h3>
      <ul class="list">
        ${r.ingredients.map(item => `<li>${item}</li>`).join("")}
      </ul>
    </div>
  ` : "";

  const stepsView = r.steps ? `
    <div class="section">
      <h3>${t("steps")}</h3>
      <ol class="list">
        ${r.steps.map(step => `<li>${step}</li>`).join("")}
      </ol>
    </div>
  ` : "";

  const difficultyText = r.difficulty === "Ìïò" || r.difficulty === "Easy" ? t("difficultyEasy") : 
                         r.difficulty === "Ï§ë" || r.difficulty === "Medium" ? t("difficultyMedium") : 
                         r.difficulty === "ÏÉÅ" || r.difficulty === "Hard" ? t("difficultyHard") : r.difficulty;

  resultCard.innerHTML = `
    <h2>${t("todayAnju")}</h2>
    <p style="font-size:22px;font-weight:800;margin:6px 0">${r.name}</p>
    <p style="color:#94a3b8;font-size:14px">${r.description}</p>

    <div>
      <span class="badge">‚è± ${t("timeBadge", { time: r.time })}</span>
      <span class="badge">üî• ${t("difficultyBadge", { difficulty: difficultyText })}</span>
      <span class="badge">üç∂ ${r.alcoholFit}</span>
    </div>

    ${ingredientView}
    ${stepsView}

    <div class="actions">
      <button class="btn" onclick="reroll()">${t("rerollBtn")}</button>
      <button class="btn" onclick="saveImage()">${t("saveImageBtn")}</button>
      <button class="btn" onclick="window.open('https://funnyfunny.cloud','_blank')">${t("moreTestsBtn")}</button>
    </div>
  `;
}

function saveImage() {
  if (!currentRecipe) return;

  const canvas = document.createElement("canvas");
  canvas.width = 1200;
  canvas.height = 630;
  const ctx = canvas.getContext("2d");

  // Background
  ctx.fillStyle = "#020617";
  ctx.fillRect(0, 0, canvas.width, canvas.height);

  // Title
  ctx.fillStyle = "#94a3b8";
  ctx.font = "28px 'Segoe UI', system-ui, sans-serif";
  ctx.fillText(t("saveImageTitle"), 60, 80);

  // Recipe name
  ctx.fillStyle = "#ffffff";
  ctx.font = "48px 'Segoe UI', system-ui, sans-serif";
  ctx.fillText(currentRecipe.name, 60, 150);

  // Description
  ctx.fillStyle = "#cbd5e1";
  ctx.font = "22px 'Segoe UI', system-ui, sans-serif";
  const desc = currentRecipe.description;
  wrapText(ctx, desc, 60, 200, 1080, 30);

  // Badges
  const badges = [
    `‚è± ${t("saveImageTime", { time: currentRecipe.time })}`,
    `üî• ${t("saveImageDifficulty", { difficulty: currentRecipe.difficulty })}`,
    `üç∂ ${currentRecipe.alcoholFit}`
  ];
  let x = 60;
  const y = 280;
  badges.forEach(text => {
    const paddingX = 18;
    const paddingY = 10;
    ctx.font = "20px 'Segoe UI', system-ui, sans-serif";
    const w = ctx.measureText(text).width + paddingX * 2;
    const h = 38;
    ctx.fillStyle = "#1e293b";
    ctx.beginPath();
    ctx.roundRect(x, y - h + paddingY, w, h, 16);
    ctx.fill();
    ctx.fillStyle = "#ffffff";
    ctx.fillText(text, x + paddingX, y);
    x += w + 14;
  });

  // Ingredients
  let infoY = y + 60;
  if (currentRecipe.ingredients) {
    ctx.fillStyle = "#94a3b8";
    ctx.font = "22px 'Segoe UI', system-ui, sans-serif";
    ctx.fillText(t("saveImageIngredients"), 60, infoY);
    infoY += 28;
    ctx.fillStyle = "#e2e8f0";
    ctx.font = "20px 'Segoe UI', system-ui, sans-serif";
    wrapText(ctx, currentRecipe.ingredients.join(", "), 60, infoY, 1080, 28);
    infoY += 40;
  }

  // Steps
  if (currentRecipe.steps) {
    ctx.fillStyle = "#94a3b8";
    ctx.font = "22px 'Segoe UI', system-ui, sans-serif";
    ctx.fillText(t("saveImageSteps"), 60, infoY);
    infoY += 28;
    ctx.fillStyle = "#e2e8f0";
    ctx.font = "20px 'Segoe UI', system-ui, sans-serif";
    currentRecipe.steps.forEach((step, idx) => {
      wrapText(ctx, `${idx + 1}. ${step}`, 60, infoY, 1080, 28);
      infoY += 30;
    });
  }

  // Footer
  ctx.fillStyle = "#475569";
  ctx.font = "18px 'Segoe UI', system-ui, sans-serif";
  ctx.fillText(t("saveImageFooter"), 60, canvas.height - 40);

  const link = document.createElement("a");
  link.download = `anju-${Date.now()}.png`;
  link.href = canvas.toDataURL("image/png");
  link.click();
}

function wrapText(ctx, text, x, y, maxWidth, lineHeight) {
  const words = text.split(" ");
  let line = "";
  for (let n = 0; n < words.length; n++) {
    const testLine = line + words[n] + " ";
    const metrics = ctx.measureText(testLine);
    if (metrics.width > maxWidth && n > 0) {
      ctx.fillText(line.trim(), x, y);
      line = words[n] + " ";
      y += lineHeight;
    } else {
      line = testLine;
    }
  }
  ctx.fillText(line.trim(), x, y);
}

document.querySelectorAll(".lang-switch button").forEach((button) => {
  button.addEventListener("click", () => {
    setLang(button.dataset.lang, { updateUrl: true });
  });
});

setLang(detectLang(), { updateUrl: false });
// Ï†ÑÏó≠ Î≥ÄÏàò ÏÑ§Ï†ï
window.currentLang = currentLang;
window.t = t;
renderStep();
</script>

<ins class="adsbygoogle"
     style="display:block; text-align:center"
     data-ad-client="ca-pub-1204894220949193"
     data-ad-slot="5145068706"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

</body>
</html>
